diff --git a/Makefile b/Makefile
index 64f9f8d..1b520d6 100644
--- a/Makefile
+++ b/Makefile
@@ -6,13 +6,13 @@
 #    By: ylyoussf <ylyoussf@student.1337.ma>        +#+  +:+       +#+         #
 #                                                 +#+#+#+#+#+   +#+            #
 #    Created: 2024/02/12 17:13:54 by ylyoussf          #+#    #+#              #
-#    Updated: 2024/02/14 12:02:25 by ylyoussf         ###   ########.fr        #
+#    Updated: 2024/02/14 15:34:23 by ylyoussf         ###   ########.fr        #
 #                                                                              #
 # **************************************************************************** #
 
 NAME = cub3D
 
-CFLAGS = -Wall -Wextra -Werror -Ofast#-fsanitize=address
+CFLAGS = -Wall -Wextra -Werror  -g -fsanitize=address #-Ofast
 LINK_H = -Iinclude
 
 OBJSFOLDER = objs/
diff --git a/include/structs.h b/include/structs.h
index 7ac7e10..f3d5135 100644
--- a/include/structs.h
+++ b/include/structs.h
@@ -6,7 +6,7 @@
 /*   By: ylyoussf <ylyoussf@student.1337.ma>        +#+  +:+       +#+        */
 /*                                                +#+#+#+#+#+   +#+           */
 /*   Created: 2024/01/10 19:31:08 by ylyoussf          #+#    #+#             */
-/*   Updated: 2024/02/14 11:43:23 by ylyoussf         ###   ########.fr       */
+/*   Updated: 2024/02/14 16:38:28 by ylyoussf         ###   ########.fr       */
 /*                                                                            */
 /* ************************************************************************** */
 
diff --git a/main.c b/main.c
index c10f5b1..64a7d7e 100644
--- a/main.c
+++ b/main.c
@@ -6,7 +6,7 @@
 /*   By: ylyoussf <ylyoussf@student.1337.ma>        +#+  +:+       +#+        */
 /*                                                +#+#+#+#+#+   +#+           */
 /*   Created: 2024/01/12 20:42:42 by ylyoussf          #+#    #+#             */
-/*   Updated: 2024/02/14 11:45:05 by ylyoussf         ###   ########.fr       */
+/*   Updated: 2024/02/14 15:35:46 by ylyoussf         ###   ########.fr       */
 /*                                                                            */
 /* ************************************************************************** */
 
@@ -19,8 +19,6 @@
 #include <validation.h>
 #include <clean.h>
 
-
-
 void	check(void)
 {
 	system("leaks cub3D");
@@ -52,6 +50,5 @@ int	main(int32_t argc, char *argv[])
 	mlx_loop(vars.mlx);
 	mlx_delete_image(vars.mlx, vars.img);
 	mlx_terminate(vars.mlx);
-	free_textures(&vars);
-	return (EXIT_SUCCESS);
+	exit(EXIT_SUCCESS);
 }
diff --git a/map.cub b/map.cub
index f971666..e37dd4c 100644
--- a/map.cub
+++ b/map.cub
@@ -10,9 +10,9 @@ F 50,50,50
         1111111111111111111111111
         1000000000110000000000001
         1011000001110000000000001
-        1001000000010000000000001
+        10010000000D0000000000001
 111111111011000001110000000000001
-100000000011000001111111111111111
+100000000011000001111D11111111111
 11110111111111011100000010001
 11110111111111011101010010001
 11000000110101011100000010001
@@ -21,3 +21,6 @@ F 50,50,50
 11000001110101011111011110N0111
 11110111 1110101 101111010001
 11111111 1111111 111111111111
+
+
+
diff --git a/src/drawing/fps_counter.c b/src/drawing/fps_counter.c
index 4a370aa..0a66f8d 100644
--- a/src/drawing/fps_counter.c
+++ b/src/drawing/fps_counter.c
@@ -6,7 +6,7 @@
 /*   By: ylyoussf <ylyoussf@student.1337.ma>        +#+  +:+       +#+        */
 /*                                                +#+#+#+#+#+   +#+           */
 /*   Created: 2024/02/04 16:16:16 by ylyoussf          #+#    #+#             */
-/*   Updated: 2024/02/11 19:18:24 by ylyoussf         ###   ########.fr       */
+/*   Updated: 2024/02/14 14:48:38 by ylyoussf         ###   ########.fr       */
 /*                                                                            */
 /* ************************************************************************** */
 
@@ -71,7 +71,7 @@ void	draw_fps(t_vars *vars)
 	current_time = mlx_get_time();
 	if (current_time - old_time > 0.2)
 	{
-		fps = 1 / vars->mlx->delta_time;
+		fps = ifelsed(vars->mlx->delta_time != 0, 1 / vars->mlx->delta_time, 0);
 		old_time = current_time;
 	}
 	draw_number(vars, fps, (t_shape){vars->mlx->width, 10, 10}, FPS_COLOR);
diff --git a/src/parsing/p_map_utils.c b/src/parsing/p_map_utils.c
index 1e60129..aa828c7 100644
--- a/src/parsing/p_map_utils.c
+++ b/src/parsing/p_map_utils.c
@@ -6,7 +6,7 @@
 /*   By: afatimi <marvin@42.fr>                     +#+  +:+       +#+        */
 /*                                                +#+#+#+#+#+   +#+           */
 /*   Created: 2024/02/11 12:16:48 by afatimi           #+#    #+#             */
-/*   Updated: 2024/02/14 11:14:37 by ylyoussf         ###   ########.fr       */
+/*   Updated: 2024/02/14 16:23:03 by ylyoussf         ###   ########.fr       */
 /*                                                                            */
 /* ************************************************************************** */
 
@@ -92,17 +92,21 @@ t_map_data	*read_map(t_map *map)
 {
 	t_map_data	*map_data;
 	char		*line;
-	int			fd;
+	const int	fd = map -> fd;
 
 	map_data = (t_map_data *)ft_calloc(1, sizeof(t_map_data));
 	if (!map_data)
 		return (NULL);
-	fd = map->fd;
 	line = get_next_line(fd);
 	if (line)
 		line[ft_strlen(line) - 1] = 0;
-	if (!ft_strlen(line))
-		(free(line), line = NULL);
+	while (line && !ft_strlen(line))
+	{
+		free(line);
+		line = get_next_line(fd);
+		if (line)
+			line[ft_strlen(line) - 1] = 0;
+	}
 	read_and_append(map_data, map, line, fd);
 	return (map_data);
 }
diff --git a/src/parsing/parse_not_utils.c b/src/parsing/parse_not_utils.c
index f0953ad..b49ec07 100644
--- a/src/parsing/parse_not_utils.c
+++ b/src/parsing/parse_not_utils.c
@@ -6,7 +6,7 @@
 /*   By: afatimi <marvin@42.fr>                     +#+  +:+       +#+        */
 /*                                                +#+#+#+#+#+   +#+           */
 /*   Created: 2024/02/12 15:55:19 by afatimi           #+#    #+#             */
-/*   Updated: 2024/02/14 11:37:26 by ylyoussf         ###   ########.fr       */
+/*   Updated: 2024/02/14 16:36:56 by ylyoussf         ###   ########.fr       */
 /*                                                                            */
 /* ************************************************************************** */
 
@@ -28,7 +28,7 @@ void	scan_and_dispatch(t_map *m, char *line, int fd)
 	{
 		if (!ft_strlen(line))
 		{
-			free(line);
+			(free(line), line = NULL);
 			line = get_next_line(fd);
 			if (!line)
 				break ;
@@ -36,17 +36,23 @@ void	scan_and_dispatch(t_map *m, char *line, int fd)
 			continue ;
 		}
 		ptr = ft_split(line, ' ');
-		if (!ptr || get_list_len(ptr) == 2)
-		{
-			if (item_setter_dispatcher(m, ptr[0], ptr[1]) == -1)
-				err_and_exit("Invalid Color\n");
-		}
+		if (ptr && *ptr)
+			if (get_list_len(ptr) == 2)
+			{
+				if (item_setter_dispatcher(m, ptr[0], ptr[1]) == -1)
+					err_and_exit("Invalid Color\n");
+			}
+			else
+				err_and_exit("Parsing error\n");
+		else
+			err_and_exit("Parsing error\n");
 		free_stuff(ptr, line);
 		line = get_next_line(fd);
 		if (!line)
 			break ;
 		line[ft_strlen(line) - 1] = 0;
 	}
+	free(line);
 }
 
 int	get_map_items(t_map *m)
@@ -54,9 +60,20 @@ int	get_map_items(t_map *m)
 	char		*line;
 	const int	fd = m -> fd;
 
+	if (!m)
+		return (-1);
 	line = get_next_line(fd);
 	if (line)
 		line[ft_strlen(line) - 1] = 0;
+	while (line && !ft_strlen(line))
+	{
+		free(line);
+		line = get_next_line(fd);
+		if (line)
+			line[ft_strlen(line) - 1] = 0;
+	}
 	scan_and_dispatch(m, line, fd);
+	if (!map_items_collected(m))
+		err_and_exit("Missing items\n");
 	return (0);
 }
diff --git a/src/parsing/tiny_parsing_helpers.c b/src/parsing/tiny_parsing_helpers.c
index 98adba4..f0e190a 100644
--- a/src/parsing/tiny_parsing_helpers.c
+++ b/src/parsing/tiny_parsing_helpers.c
@@ -6,7 +6,7 @@
 /*   By: afatimi <marvin@42.fr>                     +#+  +:+       +#+        */
 /*                                                +#+#+#+#+#+   +#+           */
 /*   Created: 2024/02/13 21:43:22 by afatimi           #+#    #+#             */
-/*   Updated: 2024/02/14 11:14:26 by ylyoussf         ###   ########.fr       */
+/*   Updated: 2024/02/14 16:30:20 by ylyoussf         ###   ########.fr       */
 /*                                                                            */
 /* ************************************************************************** */
 
@@ -14,7 +14,16 @@
 
 int	item_setter_dispatcher(t_map *m, char *where, char *what)
 {
-	if (!check_textures(m))
+	int	res = 0;
+
+	if (!where || !what)
+		return (-1);
+	res += (!ft_strncmp(where, "NO", 3))
+	 	+ (!ft_strncmp(where, "SO", 3))
+		+ (!ft_strncmp(where, "WE", 3))
+		+ (!ft_strncmp(where, "EA", 3))
+		+ (!ft_strncmp(where, "DO", 3));
+	if (res)
 		return (set_map_texture(m, where, what));
 	else
 		return (set_map_colors(m, where, what));
diff --git a/src/raycasting/raycasting.c b/src/raycasting/raycasting.c
index 21582d1..40582ef 100644
--- a/src/raycasting/raycasting.c
+++ b/src/raycasting/raycasting.c
@@ -6,7 +6,7 @@
 /*   By: ylyoussf <ylyoussf@student.1337.ma>        +#+  +:+       +#+        */
 /*                                                +#+#+#+#+#+   +#+           */
 /*   Created: 2024/02/10 16:16:57 by ylyoussf          #+#    #+#             */
-/*   Updated: 2024/02/11 17:19:04 by ylyoussf         ###   ########.fr       */
+/*   Updated: 2024/02/14 12:49:38 by ylyoussf         ###   ########.fr       */
 /*                                                                            */
 /* ************************************************************************** */
 
@@ -52,12 +52,12 @@ void	iterate_dda(t_vars *vars, t_rayhit *hit_dt, t_vect2d ray_norm)
 	{
 		go_next_square(&side_dist, delta_dist, step, hit_dt);
 		hit_dt->hit_what = get_map_val(vars, hit_dt->map.x, hit_dt->map.y);
-		if (hit_dt->hit_what > 0)
-			if (hit_dt->hit_what == WALL || handle_door(vars, hit_dt,
-					ray_norm))
+		if ((hit_dt->hit_what > 0) && 
+			(hit_dt->hit_what == WALL || handle_door(vars, hit_dt, ray_norm)))
 				break ;
 		++i;
 	}
+	hit_dt->dist = ifelsed(i >= 1e3, 2000, hit_dt->dist);
 }
 
 t_rayhit	ray_cast_dda(t_vars *vars, t_vect2d ray)
